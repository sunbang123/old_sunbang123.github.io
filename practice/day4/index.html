<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>스마트디바이스 실습4주차</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../../css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="pt-sm-5 navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <div id="nav-top">
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="../../index.html">portfolio</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#DHT">온습도 센서 DHT</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#SerialMonitor">Serial Monitor</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#LCDPRINT">LCD "Hello world"</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#SerialLCD">온습도 LCD</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experiment-result">문제 해결</a></li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0">
            <!-- About-->
            <section class="resume-section pb-1" id="about">
                <div class="resume-section-content">
                    <h3 class="mb-0">
                        스마트 디바이스 실습 4주차
                    </h3>
                    <div class="subheading mb-3">
                        ESP32 온습도센서(DHT 11)와 액정 디스플레이(LCD)
                    </div>
                    <p class="lead">
                        한세대학교 컴퓨터공학과 22학번 김선영
                    </p>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Experience-->
            <section class="resume-section" id="Experience">
                <div class="resume-section-content">
                    <h3  id="DHT" class="mb-1">온습도 센서 DHT</h3>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h5 class="mt-3">온습도 센서 DHT의 작동 원리</h5>
                            <p class="pt-1">아두이노에서 사용되는 온습도센서는 디지털 혹은 아날로그 신호를 출력하는 DHT(Digital Humidity and Temperature) 센서입니다.</p>
                            <p class="pt-1">온습도센서에서 아날로그 출력 신호는 습도와 온도 값으로 구성됩니다. 습도 값은 전기 저항을 이용하여 측정됩니다. </p>
                            <p class="pt-1">습도가 높을수록 전기 저항이 낮아지며, 습도가 낮을수록 전기 저항이 높아집니다. </p>
                            <p class="pt-1">따라서 습도 측정 센서에서는 전기 저항값에 비례하는 아날로그 출력 신호를 생성합니다.</p>
                            </p>
                        </div>
                    </div>
                    <img src="https://user-images.githubusercontent.com/93497158/229986997-4bc5c58c-1aab-4a8d-a851-0d5b21f3ee6e.png"  class="img-fluid" alt="Responsive image"/>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <p class="pt-1">온도 값은 일반적으로 온도 계수가 있는 NTC(음극온도계) 센서를 사용하여 측정됩니다.</p>
                            <p class="pt-1">센서는 반도체 재료로 만들어지며, 온도가 올라가면 전기 저항이 증가합니다.</p>
                            <p class="pt-1">NTC 센서는 온도가 올라가면 전기 저항이 감소합니다.</p>
                            <p class="pt-1">이러한 방식으로 온도 측정 센서에서는 온도에 대한 아날로그 출력 신호를 생성합니다.</p>
                            <p class="pt-1">측정된 아날로그 신호는 디지털로 변환하여 아두이노 보드로 전달합니다.</p>
                            <p class="pt-1">이렇게 계산된 값은 사용자가 원하는 방식으로 표시하거나 다른 장치와 통신하는 데 사용될 수 있습니다.</p>
                        <h5 class="mt-5">DHT 11 핀구조</h5>
                            <img src="https://user-images.githubusercontent.com/93497158/230022230-e7ba7b1c-48aa-4450-882e-befbdf785a80.jpg"  class="img-fluid" alt="Responsive image"/>
                            <p class="pt-1">- GND 핀: GND 핀은 전기 신호의 0V 기준점으로 사용되는 접지 핀이다. 전기 회로를 구성할 때는 GND 핀을 먼저 연결하고, 나머지 전기적 요소들도 GND 핀과 연결한다.</p>
                            <p class="pt-1">- DATA 핀: 온습도 센서의 DATA 핀은 디지털 데이터 핀으로, 센서에서 측정된 온습도 값을 디지털 신호로 출력한다.</p>
                            <p class="pt-1 pb-3">- VCC 핀: 온습도 센서의 VCC 핀은 센서가 동작하는 데 필요한 전원 공급 핀이다. 3.3V 또는 5V의 전압을 필요로 한다.</p>

                            <h3 id="Serial Monitor" class="mb-1">온습도 Serial Monitor 출력하기</h3>
                            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                                <div class="flex-grow-1">
                                    <p class="pt-3">- 준비물 : 온습도 센서, ESP32, 브래드보드, 점퍼케이블 3개</p>
                                    <h5 class="mt-3">회로도</h5>
                                    <img src="https://user-images.githubusercontent.com/93497158/230024103-4de23e81-5554-45dd-b7ba-bfc06dd2cdb8.jpg" class="img-fluid" alt="Responsive image"/>
                                    <h5 class="mt-3">순서</h5>
                                    <p class="pt-1">1. DHT 11 온습도 센서를 양극+에 연결한다.</p>
                                    <p class="pt-1">2. 점퍼케이블을 GND핀 - GND, DATA핀 - PIN 13, VCC핀 - 3.3V에 연결한다.</p>
                                    <p class="pt-1">3. 컴파일링을 통해 전원을 공급하고 아두이노에서 시리얼 모니터 창을 확인한다. 출력: Temp: xx.x, xx.x *C</p>
                                    </p>
                                </div>
                            </div>
                            <h5 class="mt-3">컴파일링 및 실행</h5>
        
                            <pre>
<code>
    #include "DHT.h"

    #define DHTPIN 13     // DHT11 센서 핀 번호
    #define DHTTYPE DHT11 // DHT11 센서 초기화
    DHT dht(DHTPIN, DHT11);
    
    void setup() {
        Serial.begin(115200);   // 시리얼 통신 시작
        dht.begin();          // DHT11 센서 초기화
    }
    
    void loop() {
        Serial.print(F("Hum: "));
        Serial.print(dht.readHumidity());
        Serial.print(F(" % "));
        Serial.print(F("Temp: "));
        Serial.print(dht.readTemperature());
        Serial.println(F(" *C"));
        delay(2000);
    }
</code>
                            </pre>
                            <h5 class="mt-5">사용된 함수</h5>
                            <p class="pt-1">- Serial.begin(115200): 시리얼 통신을 시작합니다. 인수 115200은 시리얼 통신 속도를 나타냅니다.</p>
                            <p class="pt-1">- dht.begin(): DHT11 온습도 센서를 초기화합니다.</p>
                            <p class="pt-1">- Serial.print(): 시리얼 모니터에 값을 출력합니다.</p>
                            <p class="pt-1">- dht.readHumidity(): DHT11 센서에서 현재 습도 값을 읽어옵니다.</p>
                            <p class="pt-1">- dht.readTemperature(): DHT11 센서에서 현재 온도 값을 읽어옵니다.</p>
                            <p class="pt-1">- delay(2000): 2초 동안 코드 실행을 지연시킵니다.</p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h4 class="mb-3">실행 결과</h4>
                            <img src="https://user-images.githubusercontent.com/93497158/229989598-5aac4a94-0340-4c4f-8b80-6ee658da7c55.png"  class="img-fluid" alt="Responsive image"/>
                        </div>
                    </div>
                    <h3 id="SerialMonitor" class="mb-1">LCD로 Hello world 출력하기</h3>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <p class="pt-3">- 준비물 : LCD, ESP32, 브래드보드, 점퍼케이블 4개</p>
                            <h5 class="mt-3">회로도</h5>
                            <img src="https://user-images.githubusercontent.com/93497158/230025163-2f661a0a-ed6e-41dd-8bb9-45080fb836b0.jpg" class="img-fluid" alt="Responsive image"/>
                            <h5 class="mt-3">순서</h5>
                            <p class="pt-1">1. 아두이노 라이브러리에서 LiquidCrystal by Arduino,Adafruit를 설치한다.</p>
                            <p class="pt-1">2. LCD에 연결한 점퍼케이블(암-수)을 GND핀 - GND, VCC핀 - 5V, SDA핀 - PIN 21, SCL핀 - PIN 22에 연결한다.</p>
                            <p class="pt-1">3. 컴파일링을 통해 전원을 공급하고 LCD 패널에 "Hello world"가 출력되는지 확인한다.</p>
                            </p>
                        </div>
                    </div>
                    <h5 class="mt-3">컴파일링 및 실행</h5>

                    <pre>
<code>
    #include "LiquidCrystal_I2C.h"

    int lcdColumns = 16;
    int lcdRows = 2;
    
    LiquidCrystal_I2C lcd (0x27, lcdColumns, lcdRows); //0x27 or 0x3F
    
    void setup(){
        lcd.init();
        lcd.backlight();
    }
    
    void loop(){
        lcd.setCursor(0,0);
        lcd.print("Hello, World!");
        delay(1000);
        lcd.clear();
        lcd.setCursor(0,1);
        lcd.print("Hello, World!");
        delay(1000);
        lcd.clear();
    }
</code>
                    </pre>

                    <h5 class="mt-5">사용된 함수</h5>
                    <p class="pt-1">- LiquidCrystal_I2C : LiquidCrystal_I2C 라이브러리를 사용하여 I2C를 통해 LCD 모듈과 통신하는 객체를 생성하는 함수입니다.</p>
                    <p class="pt-1">- lcd.init() : LCD 모듈을 초기화하는 함수입니다.</p>
                    <p class="pt-1">- lcd.backlight() : LCD 모듈의 백라이트를 켜는 함수입니다.</p>
                    <p class="pt-1">- lcd.setCursor() : LCD 모듈의 커서 위치를 설정하는 함수입니다. 첫 번째 매개변수는 열(column) 위치, 두 번째 매개변수는 행(row) 위치입니다.</p>
                    <p class="pt-1">- lcd.print() : LCD 모듈에 문자열을 출력하는 함수입니다.</p>
                    <p class="pt-1">- lcd.clear() : LCD 모듈의 내용을 지우는 함수입니다.</p>
                <div id="result" class="d-flex flex-column flex-md-row justify-content-between mb-5">
                    <div class="flex-grow-1">
                        <h4 class="mb-3">실행 결과</h4>
                        <video controls poster="videos/Clouds.png"  class="img-fluid" alt="Responsive image">
                            <source src="https://user-images.githubusercontent.com/93497158/230020383-d981d863-6402-4e36-87b2-ff677f147482.mp4" type="video/mp4">
                            <strong>Your browser does not support the video tag.</strong>
                        </video>
                    </div>
                </div>

                <h3 id="LCDPRINT" class="mb-1">온습도 LCD로 출력하기</h3>
                <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                    <div class="flex-grow-1">
                        <p class="pt-3">- 준비물 : LCD, ESP32, 브래드보드, 점퍼케이블 4개</p>
                        <h5 class="mt-3">회로도</h5>
                        <img src="https://user-images.githubusercontent.com/93497158/230029597-7c7f08bf-92fd-42fb-b3b4-571079e64188.jpg" class="img-fluid" alt="Responsive image"/>
                        <h5 class="mt-3">순서</h5>
                        <p class="pt-1">1. DHT 11 온습도 센서를 양극+에 연결한다.</p>
                        <p class="pt-1">2. 점퍼케이블을 GND핀 - GND, DATA핀 - PIN 13, VCC핀 - 3.3V에 연결한다.</p>
                        <p class="pt-1">3. 아두이노 라이브러리에서 LiquidCrystal by Arduino,Adafruit를 설치한다.</p>
                        <p class="pt-1">4. LCD에 연결한 점퍼케이블(암-수)을 GND핀 - GND, VCC핀 - 5V, SDA핀 - PIN 21, SCL핀 - PIN 22에 연결한다.</p>
                        <p class="pt-1">5. 컴파일링을 통해 전원을 공급하고 LCD 패널에 온습도가 출력되는지 확인한다. 출력: Temp: xx.x, xx.x *C</p>
                        </p>
                    </div>
                </div>
                <h5 class="mt-3">컴파일링 및 실행</h5>

                <pre>
<code>
    #include "DHT.h"
    #define DHTPIN 13
    #define DHTTYPE DHT11
    DHT dht(DHTPIN, DHTTYPE);
    
    #include "LiquidCrystal_I2C.h"
    #include "Wire.h"
    unsigned long delayTime;
    
    int lcdColumns = 16;
    int lcdRows = 2;
    LiquidCrystal_I2C lcd(0x27, lcdColumns, lcdRows);
    
    void setup(){
      Serial.begin(115200);
      lcd.init();
      lcd.backlight();
      dht.begin();
    }
    
    void loop(){
      delay(1000);
      printValues();
    }
    
    void printValues(){
      lcd.setCursor(0,0);
      lcd.print(F("Hum: "));
      lcd.print(dht.readHumidity());
      lcd.print(F(" %"));
      lcd.setCursor(0,1);
      lcd.print(F("Temp: "));
      lcd.print(dht.readTemperature());
      lcd.print(F(" *C "));
      delay(2000);
      lcd.clear();
    }
</code>
                </pre>

                <h5 class="mt-5">사용된 함수</h5>
                <p class="pt-1">- printValues() : 온습도 값을 측정하고 LCD 모듈에 출력하는 함수입니다.</p>
                <p class="pt-1">- lcd.clear() : LCD 모듈의 내용을 지우는 함수입니다.</p>
            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                <div class="flex-grow-1">
                    <h4 class="mb-3">실행 결과</h4>
                    <video controls poster="videos/Clouds.png"  class="img-fluid" alt="Responsive image">
                        <source src="https://user-images.githubusercontent.com/93497158/230020344-477e6322-8bed-4932-9455-aa75b8bc56a1.mp4" type="video/mp4">
                        <strong>Your browser does not support the video tag.</strong>
                    </video>
                </div>
            </div>

            <h3  id="DHT" class="mb-1">실습 과정에서의 문제 해결</h3>
            <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                <div class="flex-grow-1">
                    <h5 class="mt-3">누전 발생</h5>
                    <p class="pt-1">연결할 핀이 늘어날수록 점퍼케이블을 브래드보드에 잘못 연결시키는 경우가 발생했다.</p>
                    <p class="pt-1">- 첫번째로 핀번호를 잘못 연결했을때 아두이노 output에서 error가 발생하고, 두번째로 브래드보드 습도센서에서 누전됬을때 나는 탄 냄새가 났다.</p>
                    <p class="pt-1">- 이때 재빨리 USB를 뽑고 누전되서 상승한 센서의 온도를 식힌다.</p>
                    <p class="pt-1">- 미리 그려놓은 회로도를 보면서 다시한번 올바르게 점퍼 케이블을 연결했나 점검한 뒤 컴파일 해준다.</p>
                    <p class="pt-1">- 이렇게 하면 실습시 발생하는 실수를 줄일 수 있고 누전되는 결과를 막을 수 있다.</p>
                    </p>
                </div>
            </div>
            </section>
            <hr class="m-0" />
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="../../js/scripts.js"></script>
    </body>
</html>
